# movies-explorer-api

## Дипломный проект курса «Веб‑разработчик» от Яндекс.Практикум

Репозиторий для backend части приложения со следующими возможностями: авторизация и регистрация пользователей, операции с карточками кинофильмов и пользователями.

Версия разработки в ветке `level-1`.

[Канбан-доска](https://github.com/users/Nikolskii/projects/4/) дипломного проекта в GitHub Projects.

### Функционал

- Регистрация и авторизация пользователей
- Обновление профиля
- Добавление и удаление кинофильмов
- Валидация запросов
- Логирование запросов и ошибок

### Технологии

- Express
- MongoDB, Mongoose
- Cors, Express Rate Limit, Helmet
- Winston
- Celebrate
- Nginx, PM2

### Инструкции

#### `npm install`
Установить npm, используемые в проекте.

#### `npm start`
Запустить приложение в режиме разработки.

#### `npm run dev`
Запустить приложение в режиме разработки с хот-релоадом.

### Сводка по Docker-конфигурации

- Добавлен production-ориентированный `Dockerfile`, который устанавливает зависимости через `npm ci` и запускает API на Node.js 18.
- Создан `docker-compose.yml` для одновременного запуска API и MongoDB 6 с общим томом для хранения данных.
- Поддерживается конфигурация строки подключения к MongoDB через переменные окружения, чтобы сервис корректно работал в контейнерах.

### Запуск в Docker

1. Соберите образы и запустите сервисы (API и MongoDB) одной командой:

   ```bash
   docker compose up --build -d
   ```

2. Убедитесь, что приложение поднялось, просмотрев логи контейнера API:

   ```bash
   docker compose logs -f app
   ```

3. Когда контейнеры больше не нужны, остановите и удалите их вместе с созданными ресурсами:

   ```bash
   docker compose down
   ```

### Планы по доработке проекта

1. Указать адрес базы данных в production-режиме из process.env.
